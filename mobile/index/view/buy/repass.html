<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"/>
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <title>重置密码</title>
    <link rel="stylesheet" href="/static/mobile/css/amazeui.min.css">
    <link rel="stylesheet" href="/static/mobile/css/wap.css">
    <style>
        body{
            width: 100%;
        }
        .head{
            width: 100%;
            height: 50px;
            background-color: lightskyblue;
            color: white;
            text-align: left;
            line-height: 50px;
            padding-left: 20px;
        }
        form{
            padding: 20px;
        }
        .span1{
            display: block;
            float: left;
        }
        .span2{
            display: block;
            float: right;
            padding-right: 20px;
        }
    </style>

</head>
<body>
    <div class='head'><span class="span1">重置密码</span><a href="{:url('index/personal/index')}"><span class="span2">返回</span></a></div>
<div class="col-md-8"  style="display: block;">
    
    {if condition="!empty($info)";}
    
    <form class="form-horizontal mt50" action="{:url('index/personal/updatePass')}" method="post">
        <input type="hidden" name="_method" value="PUT">
        <input type="hidden" name="id" value="{$info['id']}">
        <div class="form-group mt20">
            <label class="col-sm-2 control-label">原密码</label>
            <div class="col-sm-10">
                <input type="password" class="form-control" style="width: 300px;border-radius:5px" name="oldpass" placeholder="请输入原密码">
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label">新密码</label>
            <div class="col-sm-10">
                <input type="password" class="form-control" style="width: 300px;border-radius:5px" name="oncepass" placeholder="请输入新密码" id="oncepass">
                <span class="ml30" id="tips4"></span>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label">确认新密码</label>
            <div class="col-sm-10">
                <input type="password" class="form-control" style="width: 300px;border-radius:5px" name="secondpass" placeholder="请再次输入新密码" id="secondpass">
                <span class="ml30" id="tips5"></span>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <button type="submit" class="am-btn am-btn-success btn-sm" style="border-radius:5px;margin-top:10px">确认修改</button>
            </div>
        </div>
    </form>
    {/if}

</div>
<script src="/static/mobile/js/jquery.min.js"></script>
<script src="/static/mobile/js/amazeui.min.js"></script>
<script>
    //        验证两次密码
    $('#oncepass').change(function(){
        if($('#oncepass').val().match(/^\w{6,18}$/) == null){
            $('#tips4').html('密码格式不正确~');
            $('#tips4').css('color','#f00');
        }else{
            $('#tips4').html('验证通过~');
            $('#tips4').css('color','#0a0');
        }
    });
    $('#secondpass').change(function(){
        if ($('#secondpass').val() != $('#oncepass').val()){
            $('#tips5').html('新旧密码不一致~');
            $('#tips5').css('color','#f00');
        }else{
            $('#tips5').html('验证通过~');
            $('#tips5').css('color','#0a0');
        }
    });
</script>


</body>
</html>



















